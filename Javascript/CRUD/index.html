<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table border="1">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Address</th>
                <th>City</th>
                <th>State</th>
                <th>Zip</th>
                <th>Delete</th>
                <th>Edit</th>
            </tr>
        </thead>
        <tbody>
          
        </tbody>
    </table>
    <script>
        // 1. Bring the Data from API 
        // 2. Display the Data in Browser 
        // 3. Add Delete, Edit Functionality 
        // 4. Adding the Update Functionality
        let allUsers =[]
        let url = "http://www.filltext.com/?rows=5&fname={firstName}&lname={lastName}&address={streetAddress}&city={city}&state={usState|abbr}&zip={zip}&pretty=true"
        function getData() {
            fetch(url).then(function(response){
                return response.json()
            }).then(function(res){
                console.log(res)
                allUsers=res
                displayUsers() 
            })
        }

        getData()

        function displayUsers() {
            document.querySelector("tbody").innerHTML=""
            allUsers.forEach(function (user,i){
                console.log(i)
                //<tr></tr> creating tr in HTML
                var myTr = document.createElement("tr") // Creating a tr in Javascript
                for(a in user){
                    var myTd = document.createElement("td")
                    myTd.innerHTML=user[a]
                    myTr.appendChild(myTd)
                }

                // Add Delete Button 
                var deleteTd = document.createElement("td")
                var deleteButton = document.createElement("button")
                deleteButton.innerHTML="Delete"
                deleteButton.setAttribute("onclick","deleteUser("+i+")")
                deleteTd.appendChild(deleteButton)
                myTr.appendChild(deleteTd)

                //Add Delte Button
                document.querySelector("tbody").appendChild(myTr)
            })
        }

        function deleteUser(i) {
            allUsers.splice(i,1)
            displayUsers()
        }

        function deleteUser(i) {
            
        }
    </script>
</body>
</html>